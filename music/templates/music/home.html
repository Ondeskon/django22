{% extends 'music/base.html' %}
{% load static %}
{% block title %}Úvod | Hip Hop databáze{% endblock %}
{% block content %}
<div class="carousel-container">
    <div class="carousel" id="carousel">
        <div class="carousel-slide active">
            <img src="{% static 'carousel/2pac.jpg' %}" alt="2Pac">
            <div class="carousel-caption">2Pac</div>
        </div>
        <div class="carousel-slide">
            <img src="{% static 'carousel/biggie.jpg' %}" alt="The Notorious B.I.G.">
            <div class="carousel-caption">The Notorious B.I.G.</div>
        </div>
        <div class="carousel-slide">
            <img src="{% static 'carousel/eminem.jpg' %}" alt="Eminem">
            <div class="carousel-caption">Eminem</div>
        </div>
        <div class="carousel-slide">
            <img src="{% static 'carousel/nas.jpg' %}" alt="Nas">
            <div class="carousel-caption">Nas</div>
        </div>
        <div class="carousel-slide">
            <img src="{% static 'carousel/playboicarti.jpg' %}" alt="Playboi Carti">
            <div class="carousel-caption">Playboi Carti</div>
        </div>
    </div>
    <button class="carousel-btn prev" onclick="moveSlide(-1)">&#10094;</button>
    <button class="carousel-btn next" onclick="moveSlide(1)">&#10095;</button>
    <div class="carousel-dots" id="carousel-dots"></div>
</div>

<h2 style="text-align:center; color:#ffb347; margin-top:40px;">Vítejte v moji Hip Hop databázi!</h2>
<p style="text-align:center; margin-bottom:30px;">
    Tato webová aplikace slouží k prohlížení informací o hip hopových <a href="{% url 'genres' %}">žánrech</a>, <a href="{% url 'history' %}">historii</a> a <a href="{% url 'artists' %}">interpretech</a>. Prozkoumejte různé stránky pomocí horního menu.
</p>

<style>
.carousel-container {
    max-width: 600px;
    margin: 30px auto 0 auto;
    position: relative;
    background: rgba(0,0,0,0.25);
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.18);
    overflow: hidden;
}
.carousel {
    position: relative;
    width: 100%;
    height: 340px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.carousel-slide {
    display: none;
    width: 100%;
    height: 340px;
    position: absolute;
    left: 0;
    top: 0;
    text-align: center;
}
.carousel-slide.active {
    display: block;
    animation: fadein 0.7s;
}
@keyframes fadein {
    from { opacity: 0; }
    to { opacity: 1; }
}
.carousel-slide img {
    max-width: 100%;
    max-height: 260px;
    margin-top: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.25);
}
.carousel-caption {
    color: #ffb347;
    font-size: 1.3em;
    font-weight: bold;
    margin-top: 12px;
    text-shadow: 1px 1px 8px #000;
}
.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(34,34,34,0.7);
    color: #ffb347;
    border: none;
    font-size: 2em;
    padding: 8px 16px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 2;
    transition: background 0.2s;
}
.carousel-btn:hover {
    background: #ffb347;
    color: #181818;
}
.carousel-btn.prev { left: 10px; }
.carousel-btn.next { right: 10px; }
.carousel-dots {
    text-align: center;
    margin: 12px 0 10px 0;
}
.carousel-dot {
    display: inline-block;
    width: 12px;
    height: 12px;
    margin: 0 4px;
    background: #ffb347;
    border-radius: 50%;
    opacity: 0.5;
    cursor: pointer;
    transition: opacity 0.2s;
}
.carousel-dot.active {
    opacity: 1;
    background: #ff6347;
}
</style>

<script>
let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-slide');
const dotsContainer = document.getElementById('carousel-dots');

function showSlide(n) {
    slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === n);
    });
    const dots = document.querySelectorAll('.carousel-dot');
    dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === n);
    });
    currentSlide = n;
}

function moveSlide(dir) {
    let newIndex = currentSlide + dir;
    if (newIndex < 0) newIndex = slides.length - 1;
    if (newIndex >= slides.length) newIndex = 0;
    showSlide(newIndex);
}

function createDots() {
    for (let i = 0; i < slides.length; i++) {
        const dot = document.createElement('span');
        dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
        dot.onclick = () => showSlide(i);
        dotsContainer.appendChild(dot);
    }
}

document.addEventListener('DOMContentLoaded', function() {
    createDots();
    showSlide(0);
    // Auto-slide
    setInterval(() => moveSlide(1), 5000);
});
</script>
{% endblock %} 